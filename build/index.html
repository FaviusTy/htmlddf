<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8">
    <title>どどんとふ</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://tools.cry-kit.com/ddf/public_html/loaders.css.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.14/js/jquery.tablesorter.min.js"></script>
    <script src="js/jquery.contextMenu.js"></script>
    <script src="js/spectrum.js"></script>
    <script src="js/lib/htmlspecialchars.js"></script>
    <script src="js/util.js"></script>
    <link rel="stylesheet" href="https://tools.cry-kit.com/ddf/public_html/loaders.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="js/jquery.contextMenu.css">
    <link rel="stylesheet" href="js/spectrum.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/lib/ddf.js"></script>
    <script src="js/index.js"></script>
  </head>
  <body>
    <div id="container">
      <div id="main">
        <div class="draggable" id="window_createPlayRoom">
          <div class="bg">新規プレイルーム作成</div>
          <div class="body">
            <div class="r">
              <div class="i4">プレイルーム名：</div>
              <div class="i6">
                <input class="dragprev" id="playRoomName" value="仮プレイルーム（削除可能）">
              </div>
            </div>
            <div class="r"> 
              <div class="i4">パスワード(空ならパスワード無し)：</div>
              <div class="i6">
                <input class="dragprev" id="playRoomPassword" type="password">
              </div>
            </div>
            <div class="r">
              <div class="i4">ゲームシステム：</div>
              <div class="i6">
                <select class="dragprev" id="playRoomGameType"></select>
              </div>
            </div>
            <div class="r">
              <button class="dragprev" id="createPlayRoom_extend" disabled>＞＞拡張機能</button>
            </div>
            <div class="c">
              <div class="i">
                <div class="btn dragprev" id="createPlayRoom_create">作成</div>
              </div>
              <div class="i">
                <div class="btn dragprev" id="createPlayRoom_close">閉じる</div>
              </div>
            </div>
          </div>
        </div>
        <div id="loginMessage_wrap">
          <div id="loginMessage"></div>
        </div>
        <div id="playRoomInfos">
          <table class="sortable">
            <thead>
              <tr>
                <th>No.</th>
                <th>プレイルーム名</th>
                <th>ゲームシステム</th>
                <th>入室人数</th>
                <th>パスワード</th>
                <th>見学</th>
                <th>最終更新時刻</th>
                <th>削除</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div id="command">
          <div class="row">
            <div class="i" style="width:33%;">
              <div class="i">あなたのお名前：</div>
              <div class="i">
                <input id="login_name" value="ななしさん">
              </div>
            </div>
            <div class="i" style="width:45%;">
              <div class="i">現在のログイン状況：</div>
              <div class="i">
                <button id="btn_loginNumber"></button>
              </div>
            </div>
            <div class="i" style="width:20%;text-align:right;">
              <div class="dropdown">ヘルプ
                <div class="dropdown-content">
                  <button id="btn_version">バージョン</button>
                  <button id="btn_manual">マニュアル</button>
                  <button id="btn_tutorial" disabled>チュートリアル動画</button>
                  <button id="btn_site">オフィシャルサイトへ</button>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="i" style="width:33%;">
              <div class="i">
                <button id="btn_createPlayRoom">新規プレイルーム作成</button>
              </div>
              <div class="i">
                <button id="btn_removePlayRoom">指定プレイルームを削除</button>
              </div>
            </div>
            <div class="i" style="width:45%;">
              <div class="i">プレイルームNo.</div>
              <div class="i">
                <input id="playRoomNo" value="0">
              </div>
              <div class="i">
                <button id="btn_login">ログイン</button>
              </div>
            </div>
            <div class="i" style="width:20%;text-align:right;">
              <div class="i">
                <button id="btn_extend" disabled>＞＞拡張機能</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="main2">
        <div id="menu">
          <div class="menuarea">
            <div class="dropdown">ファイル
              <div class="dropdown-content">
                <button id="btn_save" disabled>セーブ</button>
                <button id="btn_load" disabled>ロード</button>
                <hr>
                <button id="btn_saveall" disabled>全データセーブ</button>
                <button id="btn_loadall" disabled>全データロード（旧：シナリオデータ読み込み）</button>
                <hr>
                <button id="btn_savechatlog">チャットログ保存</button>
                <hr>
                <button id="btn_startrecord" disabled>録画開始</button>
                <button id="btn_endrecord" disabled>録画終了</button>
                <button id="btn_cancelrecord" disabled>録画キャンセル</button>
                <hr>
                <button id="btn_logout">ログアウト</button>
              </div>
            </div>
            <div class="dropdown">表示
              <div class="dropdown-content">
                <div class="dropdown2">ウィンドウ
                  <div class="dropdown-content2">
                    <button id="btn_displaychat">チャット表示</button>
                    <button id="btn_displaydice">ダイス表示</button>
                    <button id="btn_displayinitiative">イニシアティブ表示</button>
                    <button id="btn_displayresource" disabled>リソース表示</button>
                    <hr>
                    <button id="btn_displaychatpalette">チャットパレット表示</button>
                    <button id="btn_displaycounter" disabled>カウンターリモコン表示</button>
                  </div>
                </div>
                <hr>
                <button id="btn_displaycharacter">立絵表示</button>
                <button id="btn_displaycutin" disabled>カットイン表示</button>
                <hr>
                <button id="btn_displaygridnum">座標表示</button>
                <button id="btn_displaygridline">マス目表示</button>
                <hr>
                <button id="btn_gridguide">マス目にキャラクターを合わせる</button>
                <button id="btn_adjustcharacter">立絵のサイズを自動調整する</button>
                <hr>
                <button id="btn_changefont" disabled>フォントサイズ変更</button>
                <hr>
                <button id="btn_resetwindow" disabled>ウィンドウ配置初期化</button>
                <button id="btn_resetdisplay" disabled>表示状態初期化</button>
              </div>
            </div>
            <div class="dropdown">コマ
              <div class="dropdown-content">
                <button id="btn_createcharacter">キャラクター追加</button>
                <div class="dropdown2">範囲追加
                  <div class="dropdown-content2">
                    <button id="btn_rangedd3" disabled>魔法範囲追加(D&D3版)</button>
                    <button id="btn_rangedd4">魔法範囲追加(D&D4版)</button>
                    <button id="btn_rangelh" disabled>ログホライズン用範囲</button>
                    <button id="btn_rangemg" disabled>攻撃範囲(メタリックガーディアン)</button>
                  </div>
                </div>
                <button id="btn_magictimer" disabled>魔法タイマー追加</button>
                <hr>
                <button id="btn_createchit" disabled>チット作成</button>
                <hr>
                <button id="btn_graveyard">墓場</button>
                <button id="btn_waitroom" disabled>キャラクター待合室</button>
                <hr>
                <button id="btn_rotate" disabled>回転マーカーを表示する</button>
              </div>
            </div>
            <div class="dropdown">カード
              <div class="dropdown-content">
                <button id="btn_cardpickup" disabled>カードピックアップウィンドウ表示</button>
                <button id="btn_cardlog" disabled>カード操作ログ表示</button>
                <hr>
                <button id="btn_cardchange" disabled>カード配置の初期化</button>
                <hr>
                <button id="btn_cardreset" disabled>カードの全削除</button>
              </div>
            </div>
            <div class="dropdown">マップ
              <div class="dropdown-content">
                <button id="btn_mapchange">マップ変更</button>
                <button id="btn_maptile" disabled>フロアタイル変更モード</button>
                <button id="btn_mapmask">マップマスク追加</button>
                <button id="btn_mapmodify" disabled>簡易マップ作成</button>
                <hr>
                <button id="btn_mapsave">マップ状態保存</button>
                <button id="btn_mapchange" disabled>マップ切り替え</button>
              </div>
            </div>
            <div class="dropdown">画像
              <div class="dropdown-content">
                <button id="btn_imageupload">ファイルアップローダー</button>
                <button id="btn_camera" disabled>WEBカメラ撮影</button>
                <hr>
                <button id="btn_imagetagedit" disabled>タグ編集</button>
                <button id="btn_imagedelete">画像削除</button>
              </div>
            </div>
            <div class="dropdown">ヘルプ
              <div class="dropdown-content">
                <button id="btn_version2">バージョン</button>
                <button id="btn_manual2">マニュアル</button>
                <button id="btn_tutorial2" disabled>チュートリアル動画</button>
                <button id="btn_site2">オフィシャルサイトへ</button>
              </div>
            </div>
          </div><img id="btn_zoomin" src="image/icons/zoom_in.png"><img id="btn_zoomout" src="image/icons/zoom_out.png">
          <button id="btn_member">ルームNo.X：0名</button>
          <button id="btn_memo">共有メモ</button>
          <button id="btn_draw"> <img class="disabled" src="image/icons/pencil.gif">手書き</button>
          <button id="btn_graveyard2">墓場</button>
          <button id="btn_screenshot"><img src="image/icons/camera.png"></button>
          <button id="btn_logout2"> <img src="image/icons/door_out.png">ログアウト</button>
        </div>
        <div class="draggabletail" id="map">
          <object id="mapGrid" type="image/svg+xml" data="img/grid.svg"></object><img id="mapDraw">
          <object id="drawsPanel" type="image/svg+xml" data="img/draw.svg"></object>
          <div id="mapSurface"></div><img id="mapimg">
        </div>
        <div id="list_memo"></div>
        <div class="draggable resizable" id="window_chat">
          <div class="inner">
            <div class="bg">チャット</div>
            <div class="wrap">
              <div class="body">
                <div class="dragprev" id="tab"></div>
                <div class="dragprev" id="log"></div>
              </div>
              <div class="body2 dragprev">
                <div class="r">名前
                  <input id="chatname">
                  <button class="img disabled" id="btn_private"><img src="image/icons/key.png">
                    <div class="helptext">秘話機能有効化</div>
                  </button>
                  <select id="dicebot"></select>
                  <button class="img" id="btn_help"><img src="image/icons/icon_help.png">
                    <div class="helptext">ダイスボットのヘルプを別ウィンドウで表示します。</div>
                  </button>
                  <button class="img disabled" id="btn_diceBotTable"><img src="image/icons/page_white_gear.png">
                    <div class="helptext">ダイスボット表追加・変更・削除</div>
                  </button>
                  <button class="img disabled" id="btn_novel"><img src="image/icons/book_open.png">
                    <div class="helptext">ログ表示をノベルゲーム風表示へ切り替える</div>
                  </button>
                  <button class="img" id="btn_chatDelete"><img src="image/icons/page_white_delete.png">
                    <div class="helptext">チャットログ全削除</div>
                  </button>
                  <button class="img" id="btn_chatFont"><img src="image/icons/font.png">
                    <div class="helptext">チャット文字設定</div>
                  </button>
                  <button class="img" id="btn_mute"><img src="image/icons/sound.png">
                    <div class="helptext">音再生あり</div>
                  </button>
                  <button class="img disabled" id="btn_vote"><img src="image/icons/user_comment.png">
                    <div class="helptext">点呼／投票</div>
                  </button>
                  <button class="img disabled" id="btn_alarm"><img src="image/icons/bell.png">
                    <div class="helptext">目覚ましアラーム送信</div>
                  </button>
                  <button class="img disabled" id="btn_cutinList"><img src="image/icons/film.png">
                    <div class="helptext">カットイン設定</div>
                  </button>
                  <button class="img" id="btn_characterList"><img src="image/icons/user_edit.png">
                    <div class="helptext">立絵設定</div>
                  </button>
                  <button class="img disabled" id="btn_easyUpload"><img src="image/icons/page_white_get.png">
                    <div class="helptext">簡易ファイルアップローダー</div>
                  </button>
                  <button class="img disabled" id="btn_talk"><img src="image/icons/emoticon_smile.png">
                    <div class="helptext">テキスト読み上げなし</div>
                  </button>
                </div>
                <div class="r">発言
                  <textarea id="chattext"></textarea>
                  <div class="btn_area">
                    <button class="fix" id="btn_chatsend">送信</button>
                    <button class="fix" id="btn_savelog2">ログ保存</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="characterCutIn"></div>
          <div id="diceResult"></div>
        </div>
        <div class="draggable resizable" id="initiative">
          <div id="initiative_bg">
            <div class="row">
              <div class="i">ラウンド:</div>
              <div class="i" id="round">0</div>
              <div class="i">／イニシアティブ:</div>
              <div class="i" id="now_ini">0</div>
            </div>
            <div class="row">
              <div class="btn" onclick="ddf.initiative.prev()">戻る</div>
              <div class="btn" onclick="ddf.initiative.next()">次へ</div>
              <div class="btn" onclick="ddf.initiative.reset()">戦闘開始</div>
              <div class="btn">設定</div>
            </div>
          </div>
          <div id="wrap">
            <table class="dragprev">
              <thead>
                <tr></tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
        <div class="draggable" id="window_mapChange">
          <div class="bg"> 
            <div>マップ変更
              <div class="pull-right" id="mapChange_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r clearfix">
              <div id="mapChange_preview">
                <input type="hidden" id="mapChange_imageSource"><img id="mapChange_map">
                <object type="image/svg+xml" data="img/grid.svg" id="mapChange_grid"></object>
              </div>
              <div id="mapChange_image">
                <div class="r">
                  <button id="mapChange_imageChange">画像変更</button>
                </div>
              </div>
              <div id="mapChange_imageSelect">
                <div class="r">
                  <div id="mapChange_imagearea"></div>
                </div>
                <div class="r">検索タグ
                  <select id="mapChange_tagbox"></select>
                  <button id="mapChange_btnpassword">隠し画像</button>
                  <input id="mapChange_password">
                  <input type="checkbox" id="mapChange_mirrored2">左右反転
                </div>
              </div>
            </div>
            <div class="r">
              <input type="checkbox" id="mapChange_blank">白地図にする　
              縦：
              <input type="number" min="1" max="150" required id="mapChange_height">　横：
              <input type="number" min="1" max="150" required id="mapChange_width">　マス目・座標文字の色：
              <input class="colorpicker" type="hidden" id="mapChange_color">
              <input class="colorpicker" id="mapChange_color2">　マス目間隔：
              <input type="number" min="1" max="100" required id="mapChange_gridInterval">　
              <input type="checkbox" id="mapChange_isAlternately">マスを交互に
              <input class="hide" type="checkbox" id="mapChange_mirrored">
            </div>
            <div class="r center">
              <button id="mapChange_send">設定</button>
              <button id="mapChange_close">キャンセル</button>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_graveyard">
          <div class="bg"> 
            <div>墓場
              <div class="pull-right" id="graveyard_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="row">名前
              <select id="graveyard_characters"></select>
              <button id="graveyard_reload">再読込</button>
            </div>
            <div class="row">
              <button id="graveyard_resurrect">復活</button>
              <button id="graveyard_close">キャンセル</button>
              <button id="graveyard_clear">墓地を空にする</button>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_upload">
          <div class="bg"> 
            <div>画像アップローダ
              <div class="pull-right" id="upload_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r">
              <div id="upload_droparea"></div>
              <div class="overwrap">
                <input type="file" multiple accept="image/png,image/jpeg,image/gif"><a href="#">ファイルを選択</a><br>　または　<br>ファイルをドラッグアンドドロップ
              </div>
            </div>
            <div class="r">対応画像:JPEG/GIF/PNG
              <select id="upload_public">
                <option value="">専用</option>
                <option value="1">全体</option>
              </select>
              <button id="upload_btnpassword">パスワードなし</button>
              <input id="upload_password">
            </div>
            <div class="r">付与するタグ（半角・全角スペースで区切り）
              <input id="upload_tag" value="キャラクター画像　">
              <select id="upload_tagbox">
                <option>キャラクター画像</option>
                <option>フロアタイル画像</option>
                <option>マップ画像</option>
                <option>モンスター</option>
                <option>立ち絵</option>
              </select>
            </div>
            <div class="r">
              <button id="upload_send">アップロード</button>
              <button id="upload_close">キャンセル</button>
            </div>
            <div class="r">結果
              <div id="upload_result"></div>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_mapMask">
          <div class="bg"> 
            <div><span id="mapMask_title">マスク作成</span>
              <div class="pull-right" id="mapMask_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r">
              <input type="hidden" id="mapMask_imageId">
              <label>名前:</label>
              <input id="mapMask_name">
            </div>
            <div class="r">
              <label>色：</label>
              <input type="hidden" id="mapMask_color">
              <input class="colorpalette" id="mapMask_color2">
            </div>
            <div class="r">
              <label>高さ：</label>
              <input class="spinner" type="number" min="1" max="100" required id="mapMask_height">
            </div>
            <div class="r">
              <label>幅：</label>
              <input class="spinner" type="number" min="1" max="100" required id="mapMask_width">
            </div>
            <div class="r">
              <label>透過度</label>
              <input type="hidden" id="mapMask_alpha">
              <div class="slider"></div>
            </div>
            <div class="r" id="mapMask_create">
              <input type="checkbox" id="mapMask_multiple">複数作成
            </div>
            <div class="r" id="mapMask_change">
              <button id="mapMask_send">変更</button>
              <button id="mapMask_close">キャンセル</button>
            </div>
          </div>
          <div class="body2 dragprev">
            <div id="mapMask_preview"></div>
          </div>
        </div>
        <div class="draggable" id="window_imageDelete">
          <div class="bg"> 
            <div>画像削除
              <div class="pull-right" id="imageDelete_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r">
              <div id="imageDelete_imagearea"></div>
            </div>
            <div class="r">検索タグ
              <select id="imageDelete_tagbox"></select>
              <button id="imageDelete_btnpassword">隠し画像</button>
              <input id="imageDelete_password">
            </div>
            <div class="r">
              <button id="imageDelete_delete">選択した画像を削除</button>
              <button id="imageDelete_close">キャンセル</button>
            </div>
            <div class="r">結果
              <div id="imageDelete_result"></div>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_memo">
          <div class="bg"> 
            <div> <span class="title">共有メモ</span>
              <div class="pull-right" id="memo_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r clearfix" id="memo_listTab">
              <input type="hidden" id="memo_imgId">
              <div id="memo_tab"></div>
            </div>
            <div class="r" id="memo_edit"></div>
            <div class="r">
              <button id="memo_send">追加</button>
              <button id="memo_close">キャンセル</button>
              <button class="pull-right" id="memo_addTab">タブ追加</button>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_help">
          <div class="bg"> 
            <div>ダイスボット解説
              <div class="pull-right" id="help_close">×</div>
            </div>
          </div>
          <div class="wrap">
            <div class="body dragprev">
              <div class="r">
                <pre id="help_text"></pre>
              </div>
            </div>
          </div>
        </div>
        <div class="draggable" id="window_magicRangeDD4th">
          <div class="bg"> 
            <div> <span class="title">魔法範囲作成（Ｄ＆Ｄ４版）</span>
              <div class="pull-right" id="magicRangeDD4th_close2">×</div>
            </div>
          </div>
          <div class="body dragprev">
            <div class="r">
              <input type="hidden" id="magicRangeDD4th_imgId">
              <label>名前：</label>
              <input id="magicRangeDD4th_name">
            </div>
            <div class="r">
              <label>範囲種別：</label>
              <select id="magicRangeDD4th_rangeType">
                <option value="closeBurstDD4th">爆発</option>
                <option value="blastDD4th">噴射</option>
              </select>
            </div>
            <div class="r">
              <label>範囲（マス）：</label>
              <input type="number" min="1" max="100" required id="magicRangeDD4th_feets">
            </div>
            <div class="r">
              <label>色：</label>
              <input type="hidden" id="magicRangeDD4th_color">
              <input id="magicRangeDD4th_color2">
            </div>
            <div class="r">
              <label>持続時間：</label>
              <input type="number" min="1" max="99" required id="magicRangeDD4th_timeRange">
            </div>
            <div class="r">
              <label>その他：</label>
              <input id="magicRangeDD4th_info">
            </div>
            <div class="r">
              <input type="checkbox" checked id="magicRangeDD4th_isHide">イニシアティブ表に表示する
            </div>
            <div class="r center">
              <button id="magicRangeDD4th_send">変更</button>
              <button id="magicRangeDD4th_close">キャンセル</button>
            </div>
          </div>
        </div>
      </div>
      <div class="draggable" id="window_version">
        <div class="bg">バージョン</div>
        <div class="wrap">
          <div class="body">
            <div class="r">
              <div class="i">どどんとふ：</div>
              <div class="i" id="version_DodontoF"></div>
            </div>
            <div class="r"> 
              <div class="i">ddf.js：</div>
              <div class="i" id="version_ddfjs"></div>
            </div>
            <div class="r">
              <div class="i">ddfHTML5Client：</div>
              <div class="i" id="version_ddfcli"></div>
            </div>
          </div>
        </div>
        <div class="btn" id="version_close">閉じる</div>
      </div>
      <div class="draggable" id="window_loginNumber">
        <div class="bg">ログイン状況</div>
        <div class="wrap">
          <div class="body"></div>
          <div class="btn">OK</div>
        </div>
      </div>
    </div>
  </body>
</html>